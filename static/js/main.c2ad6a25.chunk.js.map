{"version":3,"sources":["components/login.component.js","components/signup.component.js","components/submit.component.js","App.js","chat/Channel.js","chat/ChannelList.js","chat/Message.js","chat/MessagesPanel.js","chat/Chat.js","index.js"],"names":["Component","App","Channel","click","props","onClick","id","className","this","name","participants","React","ChannelList","handleClick","onSelectChannel","list","channels","map","c","Message","senderName","text","MessagesPanel","state","input_value","send","onSendMessage","channel","setState","handleInput","e","target","value","messages","m","type","onChange","SERVER","Chat","socket","configureSocket","socketClient","on","handleChannelSelect","forEach","message","channel_id","push","loadChannels","a","fetch","then","response","json","data","find","emit","ack","handleSendMessage","Date","now","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c2ad6a25.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n    };\r\n  }\r\n  handleEmailChange = (event) => {\r\n    event.preventDefault();\r\n    this.setState({ email: event.target.value });\r\n  };\r\n  handlePasswordChange = (event) => {\r\n    this.setState({ password: event.target.value });\r\n  };\r\n\r\n  handleLogin = () => {\r\n    console.log(\"Email: \" + this.state.email);\r\n    console.log(\"Password: \" + this.state.password);\r\n  };\r\n  render() {\r\n    return (\r\n      <form action=\"http://localhost:3002/users\" method=\"post\">\r\n        <h3>Sign In</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Email address</label>\r\n          <input\r\n            value={this.state.email}\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            placeholder=\"Enter email\"\r\n            name=\"email\"\r\n            onChange={this.handleEmailChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Password</label>\r\n          <input\r\n            value={this.state.password}\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            placeholder=\"Enter password\"\r\n            name=\"password\"\r\n            onChange={this.handlePasswordChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <div className=\"custom-control custom-checkbox\">\r\n            <input\r\n              type=\"checkbox\"\r\n              className=\"custom-control-input\"\r\n              id=\"customCheck1\"\r\n            />\r\n            <label className=\"custom-control-label\" htmlFor=\"customCheck1\">\r\n              Remember me\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary btn-block\"\r\n          onClick={this.handleLogin}\r\n        >\r\n          Submit\r\n        </button>\r\n        <p className=\"forgot-password text-right\">\r\n          Forgot <a href=\"/#\">password?</a>\r\n        </p>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class SignUp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form action=\"signup.php\" method=\"POST\">\r\n        <h3>Sign Up</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <label>First name</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"First name\"\r\n            name=\"firstName\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Last name</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Last name\"\r\n            name=\"lastName\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            placeholder=\"Enter email\"\r\n            name=\"email\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Password</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            placeholder=\"Enter password\"\r\n            name=\"password\"\r\n          />\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-primary btn-block\">\r\n          Sign Up\r\n        </button>\r\n        <p className=\"forgot-password text-right\">\r\n          Already registered <a href=\"/#\">sign in?</a>\r\n        </p>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Submit extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      gamertag: \"\",\r\n      rank: \"\",\r\n      faults: \"\",\r\n      time: \"\",\r\n      trackname: \"\",\r\n      ninjapoints: \"\",\r\n    };\r\n  }\r\n\r\n  handlegamertagChange = (event) => {\r\n    this.setState({ gamertag: event.target.value });\r\n  };\r\n\r\n  handleRankChange = (event) => {\r\n    this.setState({ rank: event.target.value });\r\n  };\r\n\r\n  handleFaultsChange = (event) => {\r\n    this.setState({ faults: event.target.value });\r\n  };\r\n\r\n  handleTimeChange = (event) => {\r\n    this.setState({ time: event.target.value });\r\n  };\r\n\r\n  handleTrackChange = (event) => {\r\n    this.setState({ trackname: event.target.value });\r\n  };\r\n\r\n  handleninjapointsChange = (event) => {\r\n    this.setState({ ninjapoints: event.target.value });\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    // Put useful log data here probably\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form action=\"http://localhost:3002/submit-run\" method=\"post\">\r\n        <h3>Submit Your Run</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <label>gamertag</label>\r\n          <input\r\n            value={this.state.gamertag}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Enter gamertag\"\r\n            name=\"gamertag\"\r\n            onChange={this.handlegamertagChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Rank</label>\r\n          <input\r\n            value={this.state.rank}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Enter rank\"\r\n            name=\"rank\"\r\n            onChange={this.handleRankChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Faults</label>\r\n          <input\r\n            value={this.state.faults}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Enter faults\"\r\n            name=\"faults\"\r\n            onChange={this.handleFaultsChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Time</label>\r\n          <input\r\n            value={this.state.time}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Enter time\"\r\n            name=\"time\"\r\n            onChange={this.handleTimeChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Track Name</label>\r\n          <input\r\n            value={this.state.trackname}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Enter track name\"\r\n            name=\"track-name\"\r\n            onChange={this.handleTrackChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Ninja Points</label>\r\n          <input\r\n            value={this.state.ninjapoints}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Enter NinjaPoints\"\r\n            name=\"ninja-points\"\r\n            onChange={this.handleninjapointsChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <div className=\"custom-control custom-checkbox\">\r\n            <input\r\n              type=\"checkbox\"\r\n              className=\"custom-control-input\"\r\n              id=\"customCheck1\"\r\n            />\r\n            <label className=\"custom-control-label\" htmlFor=\"customCheck1\">\r\n              Remember me\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary btn-block\"\r\n          onClick={this.handleSubmit}\r\n        >\r\n          Submit\r\n        </button>\r\n        <p className=\"forgot-password text-right\">\r\n          Forgot <a href=\"/#\">password?</a>\r\n        </p>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./App.css\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\n\r\nimport Login from \"./components/login.component\";\r\nimport SignUp from \"./components/signup.component\";\r\nimport Submit from \"./components/submit.component\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <nav className=\"navbar navbar-expand-lg navbar-light fixed-top\">\r\n          <div className=\"container\">\r\n            <Link className=\"navbar-brand\" to={\"/sign-in\"}>\r\n              Trials.com\r\n            </Link>\r\n            <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo02\">\r\n              <ul className=\"navbar-nav ml-auto\">\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to={\"/submit\"}>\r\n                    Submit\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to={\"/sign-in\"}>\r\n                    Login\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to={\"/sign-up\"}>\r\n                    Sign up\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n\r\n        <div className=\"auth-wrapper\">\r\n          <div className=\"auth-inner\">\r\n            <Switch>\r\n              <Route exact path=\"/\" component={Login} />\r\n              <Route path=\"/submit\" component={Submit} />\r\n              <Route path=\"/sign-in\" component={Login} />\r\n              <Route path=\"/sign-up\" component={SignUp} />\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\n\r\n\r\nexport class Channel extends React.Component {\r\n\r\n    click = () => {\r\n        this.props.onClick(this.props.id);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='channel-item' onClick={this.click}>\r\n                <div>{this.props.name}</div>\r\n                <span>{this.props.participants}</span>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Channel } from './Channel';\r\n\r\nexport class ChannelList extends React.Component {\r\n\r\n    handleClick = id => {\r\n        this.props.onSelectChannel(id);\r\n    }\r\n\r\n    render() {\r\n\r\n        let list = <div className=\"no-content-message\">There is no channels to show</div>;\r\n        if (this.props.channels && this.props.channels.map) {\r\n            list = this.props.channels.map(c => <Channel key={c.id} id={c.id} name={c.name} participants={c.participants} onClick={this.handleClick} />);\r\n        }\r\n        return (\r\n            <div className='channel-list'>\r\n                {list}\r\n            </div>);\r\n    }\r\n\r\n}","import React from 'react';\r\n\r\n\r\nexport class Message extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className='message-item'>\r\n                <div><b>{this.props.senderName}</b></div>\r\n                <span>{this.props.text}</span>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Message } from './Message';\r\n\r\nexport class MessagesPanel extends React.Component {\r\n    state = { input_value: '' }\r\n    send = () => {\r\n        if (this.state.input_value && this.state.input_value != '') {\r\n            this.props.onSendMessage(this.props.channel.id, this.state.input_value);\r\n            this.setState({ input_value: '' });\r\n        }\r\n    }\r\n\r\n    handleInput = e => {\r\n        this.setState({ input_value: e.target.value });\r\n    }\r\n\r\n    render() {\r\n\r\n        let list = <div className=\"no-content-message\">There is no messages to show</div>;\r\n        if (this.props.channel && this.props.channel.messages) {\r\n            list = this.props.channel.messages.map(m => <Message key={m.id} id={m.id} senderName={m.senderName} text={m.text} />);\r\n        }\r\n        return (\r\n            <div className='messages-panel'>\r\n                <div className=\"meesages-list\">{list}</div>\r\n                {this.props.channel &&\r\n                    <div className=\"messages-input\">\r\n                        <input type=\"text\" onChange={this.handleInput} value={this.state.input_value} />\r\n                        <button onClick={this.send}>Send</button>\r\n                    </div>\r\n                }\r\n            </div>);\r\n    }\r\n\r\n}","import React from \"react\";\r\nimport { ChannelList } from \"./ChannelList\";\r\nimport \"./chat.scss\";\r\nimport { MessagesPanel } from \"./MessagesPanel\";\r\nimport socketClient from \"socket.io-client\";\r\n\r\nconst SERVER = \"http://127.0.0.1:3005\";\r\n\r\nexport class Chat extends React.Component {\r\n  state = {\r\n    channels: null,\r\n    socket: null,\r\n    channel: null,\r\n  };\r\n  socket;\r\n  componentDidMount() {\r\n    this.loadChannels();\r\n    this.configureSocket();\r\n  }\r\n\r\n  configureSocket = () => {\r\n    var socket = socketClient(SERVER);\r\n    socket.on(\"connection\", () => {\r\n      if (this.state.channel) {\r\n        this.handleChannelSelect(this.state.channel.id);\r\n      }\r\n    });\r\n    socket.on(\"channel\", (channel) => {\r\n      let channels = this.state.channels;\r\n      channels.forEach((c) => {\r\n        if (c.id === channel.id) {\r\n          c.participants = channel.participants;\r\n        }\r\n      });\r\n      this.setState({ channels });\r\n    });\r\n    socket.on(\"message\", (message) => {\r\n      let channels = this.state.channels;\r\n      channels.forEach((c) => {\r\n        if (c.id === message.channel_id) {\r\n          if (!c.messages) {\r\n            c.messages = [message];\r\n          } else {\r\n            c.messages.push(message);\r\n          }\r\n        }\r\n      });\r\n      this.setState({ channels });\r\n    });\r\n    this.socket = socket;\r\n  };\r\n\r\n  loadChannels = async () => {\r\n    fetch(\"http://localhost:3005/getChannels\").then(async (response) => {\r\n      let data = await response.json();\r\n      this.setState({ channels: data.channels });\r\n    });\r\n  };\r\n\r\n  handleChannelSelect = (id) => {\r\n    let channel = this.state.channels.find((c) => {\r\n      return c.id === id;\r\n    });\r\n    this.setState({ channel });\r\n    this.socket.emit(\"channel-join\", id, (ack) => {});\r\n  };\r\n\r\n  handleSendMessage = (channel_id, text) => {\r\n    this.socket.emit(\"send-message\", {\r\n      channel_id,\r\n      text,\r\n      senderName: this.socket.id,\r\n      id: Date.now(),\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"chat-app\">\r\n        <ChannelList\r\n          channels={this.state.channels}\r\n          onSelectChannel={this.handleChannelSelect}\r\n        />\r\n        <MessagesPanel\r\n          onSendMessage={this.handleSendMessage}\r\n          channel={this.state.channel}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { Chat } from \"./chat/Chat\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Chat />\r\n  </React.StrictMode>,\r\n  // <BrowserRouter>\r\n  // <App />\r\n  //</BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}